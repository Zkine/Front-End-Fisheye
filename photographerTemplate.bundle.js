(()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r,l,o=[],s=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,a=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t,n){return t=r(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],r(e).constructor):t.apply(e,n))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,f(i.key),i)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var m=[],b=function(){return u((function e(t){d(this,e),this._data=t,m.push(t),this.$imgSection=document.getElementById("img-section-id"),this.$claculLikes=document.getElementById("calcul-like-id"),this.$claculLikes.textContent=MediaModel.MediaFullLickes(),this.$claculPrice=document.getElementById("calcul-price-id"),this.$claculPrice.textContent=MediaModel.MediaFullprice()}),[{key:"renderBanner",value:function(){var e=document.createElement("div");e.classList.add("photograph-banner");var t=document.createElement("div");t.classList.add("div-title"),e.insertAdjacentElement("afterbegin",t);var n=document.createElement("h1");n.setAttribute("tabindex","0"),n.classList.add("photographer-h1"),n.id="photographer-h1-id",n.textContent="".concat(this._data.name),t.insertAdjacentElement("afterbegin",n);var i=document.createElement("p");i.setAttribute("tabindex","0"),i.classList.add("photographer-city"),i.textContent="".concat(this._data.city,", ").concat(this._data.country),t.insertAdjacentElement("beforeend",i);var a=document.createElement("q");a.setAttribute("tabindex","0"),a.classList.add("photographer-citation"),a.textContent="".concat(this._data.tagline),t.insertAdjacentElement("beforeend",a);var r=document.createElement("button");r.setAttribute("tabindex","0"),r.setAttribute("type","button"),r.classList.add("contact_button"),r.id="displayModal",r.setAttribute("aria-labelledby","contact_modal-id"),r.textContent="Contactez-moi",e.insertAdjacentElement("beforeend",r);var l=document.createElement("div");l.classList.add("conteneur-img"),e.insertAdjacentElement("beforeend",l);var o=document.createElement("img");return o.setAttribute("tabindex","0"),o.setAttribute("loading","lazy"),o.setAttribute("src","../../assets/photographers/".concat(this._data.portrait)),o.setAttribute("alt","Portrait d'".concat(this._data.name)),o.classList.add("portait-img"),l.insertAdjacentElement("afterbegin",o),e}},{key:"renderMedia",value:function(){var e,t=document.getElementById("photographer-h1-id"),n=document.createElement("article");n.classList.add("article-media"),n.id="article-media-id",this.$imgSection.insertAdjacentElement("afterbegin",n);var i=document.createElement("figure");if(i.classList.add("figure-media"),i.id="imgModal",n.insertAdjacentElement("afterbegin",i),this._data.MediaItems.includes("jpg")){var a=document.createElement("img");a.classList.add("item-media"),a.setAttribute("src","".concat(this._data.MediaItems)),a.setAttribute("alt",""),a.id="item-media-id",a.setAttribute("aria-label","".concat(this._data.MediaTitle,", closeup view")),a.setAttribute("aria-labelledby","lightbox-modal"),a.setAttribute("loading","lazy"),a.setAttribute("tabindex","0"),i.insertAdjacentElement("beforeend",a);var r=document.createElement("figcaption");r.classList.add("figcaption-media"),r.id="figcaption-media-id",r.setAttribute("tabindex","0"),r.textContent="".concat(this._data.MediaTitle),i.insertAdjacentElement("beforeend",r)}else if(this._data.MediaItems.includes("mp4")){var l;(l=i.classList).add.apply(l,["figure-media","figure-media-video"]);var o=document.createElement("video");o.classList.add("item-media"),o.id="item-media-id",o.setAttribute("aria-label","".concat(this._data.MediaTitle,", closeup view")),o.setAttribute("aria-labelledby","lightbox-modal"),o.setAttribute("tabindex","0"),i.insertAdjacentElement("afterbegin",o);var s=document.createElement("source");s.id="source-id",s.setAttribute("src","".concat(this._data.MediaItems)),s.setAttribute("type","video/mp4"),o.insertAdjacentElement("afterbegin",s);var d=document.createElement("figcaption");d.classList.add("figcaption-media"),d.id="figcaption-media-id",d.setAttribute("tabindex","0"),d.textContent="".concat(this._data.MediaTitle),i.appendChild(d)}var c=document.createElement("p");c.classList.add("number-likes"),c.id="number-likes-id",c.setAttribute("tabindex","0"),c.textContent="".concat(this._data.Medialikes),i.insertAdjacentElement("afterend",c);var u=document.createElement("button");u.classList.add("btn-heart"),u.id="btn-heart-id",u.setAttribute("aria-pressed","false"),c.insertAdjacentElement("afterend",u);var f=document.createElement("i");(e=f.classList).add.apply(e,["fa-regular","fa-heart"]),f.id="fontawesome-id",f.setAttribute("aria-label","likes"),f.setAttribute("title","Ajouter un like ou retirer un like à ".concat(t.textContent)),f.setAttribute("aria-hidden","true"),u.insertAdjacentElement("afterbegin",f);var m=document.createElement("span");m.classList.add("screenreader-text"),m.textContent="Ajouter un like ou retirer un like au média ".concat(this._data.MediaTitle),u.insertAdjacentElement("beforeend",m);var b=document.getElementById("btn-heart-id");b.addEventListener("click",k.gestionLikes),b.addEventListener("keydown",(function(e){if("Enter"===e.code)return k.gestionLikes}));var p=document.getElementById("item-media-id");return p.addEventListener("click",Lightbox.DomLightbox),p.addEventListener("keydown",(function(e){if("Enter"===e.code)return Lightbox.DomLightbox(e)})),n}}])}(),p=document.getElementById("calcul-like-id"),g=function(n){function a(){return d(this,a),i(this,a,arguments)}return l(a,n),u(a,null,[{key:"LikesUpdate",value:function(e){m[0]._name&&(m.shift(),Number(parseInt(p.textContent))),e=m;var n,i=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=t(e))){i&&(e=i);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw l}}}}(C);try{var a=function(){var t=n.value;e.forEach((function(e){e._MediaTitle===t.media&&e._MediaLikes!==t.likesMedia&&(Object.defineProperty(e,"_MediaLikes",{value:t.likesMedia,writable:!1}),Object.defineProperty(e,"_MediaHeart",{value:t._MediaHeart,writable:!0}))}))};for(i.s();!(n=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return[e]}},{key:"UpdateMedia",value:function(t){var n=e(a.LikesUpdate(),1)[0];t=document.querySelectorAll("#item-media-id");for(var i=document.querySelectorAll("#imgModal"),r=document.querySelector("video").cloneNode(!0),l=document.querySelector("figure img").cloneNode(!0),o=0;o<n.length;o++)for(var s=0;s<t.length;s++)for(var d=0;d<i.length;d++){var c,u="VIDEO"===i[d].childNodes[0].nodeName,f=i[d].childNodes[0].alt===t[s].alt;if(n[o].MediaItems.includes("jpg")&&Number([o])===Number([s])&&Number([o])===Number([d])){if("IMG"===t[s].nodeName)if(t[s].setAttribute("src","".concat(n[o].MediaItems)),t[s].setAttribute("aria-label","".concat(n[o].MediaTitle,", closeup view")),t[s].nextElementSibling.textContent="".concat(n[o].MediaTitle),t[s].offsetParent.nextElementSibling.textContent="".concat(n[o].Medialikes),n[o]._MediaHeart){if(n[o]._MediaHeart){var m,b;"fa-regular fa-heart"===n[o]._MediaHeart?(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(m=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(m,["fa-regular","fa-heart"])):(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(b=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(b,["fa-solid","fa-heart"]))}}else t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(c=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(c,["fa-heart","fa-regular"]);else if("VIDEO"===t[s].nodeName&&!0===u&&!0===f){var p;if(t[s].nextElementSibling.textContent="".concat(n[o].MediaTitle),t[s].offsetParent.nextElementSibling.textContent="".concat(n[o].Medialikes),n[o]._MediaHeart){if(n[o]._MediaHeart){var g,E;"fa-regular fa-heart"===n[o]._MediaHeart?(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(g=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(g,["fa-regular","fa-heart"])):(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(E=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(E,["fa-solid","fa-heart"]))}}else t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(p=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(p,["fa-regular","fa-heart"]);t[s].parentElement.classList.remove("figure-media-video"),l.setAttribute("src","".concat(n[o].MediaItems)),i[d].replaceChild(l,i[d].childNodes[0]),l.addEventListener("click",(function(e){return h(e)})),l.addEventListener("keydown",(function(e){return h(e)}))}}else if(n[o].MediaItems.includes("mp4")&&Number([o])===Number([s])&&Number([o])===Number([d])){var v;if("VIDEO"===t[s].nodeName)if(n[o]._MediaHeart){if(n[o]._MediaHeart){var y,x;"fa-regular fa-heart"===n[o]._MediaHeart?(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(y=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(y,["fa-regular","fa-heart"])):(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(x=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(x,["fa-solid","fa-heart"]))}}else t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(v=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(v,["fa-regular","fa-heart"]);else if("IMG"===t[s].nodeName&&!0===u&&!0===f||!0===f){var L;if(t[s].nextElementSibling.textContent="".concat(n[o].MediaTitle),t[s].offsetParent.nextElementSibling.textContent="".concat(n[o].Medialikes),n[o]._MediaHeart){if(n[o]._MediaHeart){var S,A;"fa-regular fa-heart"===n[o]._MediaHeart?(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(S=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(S,["fa-regular","fa-heart"])):(t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(A=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(A,["fa-solid","fa-heart"]))}}else t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList.value="",(L=t[s].offsetParent.nextElementSibling.nextElementSibling.firstElementChild.classList).add.apply(L,["fa-regular","fa-heart"]);t[s].parentElement.classList.add("figure-media-video"),i[d].replaceChild(r,i[d].childNodes[0]),r.addEventListener("click",(function(e){return h(e)}))}}}return[t]}},{key:"renderPopulaire",value:function(t){return e(a.LikesUpdate(t),1)[0].sort((function(e,t){return t._MediaLikes-e._MediaLikes})),e(a.UpdateMedia(t),1)[0]}},{key:"renderDate",value:function(t){return e(a.LikesUpdate(t),1)[0].sort((function(e,t){return t._MediaDate<e._MediaDate?-1:t._MediaDate>t._MediaDate?1:0})),e(a.UpdateMedia(t),1)[0]}},{key:"renderTitre",value:function(t){return e(a.LikesUpdate(t),1)[0].sort((function(e,t){return t._MediaTitle>e._MediaTitle?-1:t._MediaTitle<t._MediaTitle?1:0})),e(a.UpdateMedia(t),1)[0]}}])}(b),h=function(e){return"Enter"===e.code||"mouse"===e.pointerType?Lightbox.DomLightbox(e):void 0},E=[],v=document.getElementById("button-populaire-id");v.addEventListener("click",g.renderPopulaire);var y=document.getElementById("button-date-id");y.addEventListener("click",g.renderDate);var x=document.getElementById("button-titre-id");x.addEventListener("click",g.renderTitre);var L=function(e){if(e.stopPropagation(),Number(e.detail)===Number(1)&&!M.classList.contains("div-btn-tris-click")||"Enter"===e.code&&"DIV"===e.target.nodeName)M.classList.add("div-btn-tris-click"),M.setAttribute("aria-expanded","true"),v.setAttribute("tabindex","0"),y.setAttribute("tabindex","0"),x.setAttribute("tabindex","0"),M.insertBefore(v,M.firstElementChild),M.insertBefore(y,x);else if(M.classList.contains("div-btn-tris-click"))switch(e.target.textContent){case"Popularité":E.shift(),E.push(v);break;case"Date":E.shift(),E.push(y);break;case"Titre":E.shift(),E.push(x);break;default:console.log("Debbuger la gestion des buttons.")}},S=[];document.querySelectorAll(".buttonTri").forEach((function(e){e.addEventListener("keydown",(function(e){return"Escape"===e.code?A(e):"Tab"===e.code?(i=document.querySelectorAll(".buttonTri"),S=function(e){if(Array.isArray(e))return n(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||t(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),function(e){e.preventDefault();var t=S.findIndex((function(e){return e===M.querySelector(":focus")}));return!0===e.shiftKey?t--:t++,t>=S.length?t=0:t<0&&(t=S.length-1),S[t].focus()}(e)):"Enter"===e.code&&"Popularité"===e.target.textContent?(L(e),g.renderPopulaire(e)):"Enter"===e.code&&"Date"===e.target.textContent?g.renderDate(e):"Enter"===e.code&&"Titre"===e.target.textContent?g.renderTitre(e):void 0;var i}))}));var A=function(e){M.setAttribute("aria-expanded","false"),M.classList.remove("div-btn-tris-click"),v.setAttribute("tabindex","-1"),y.setAttribute("tabindex","-1"),x.setAttribute("tabindex","-1"),E[0]?M.insertBefore(E[0],M.firstElementChild):"keydown"===e.type&&M.focus()},M=document.getElementById("div-btn-tris-id");M.addEventListener("click",L),M.addEventListener("keydown",(function(e){if("Enter"===e.code)return L(e)})),M.addEventListener("mouseleave",(function(e){return A(e)}));var C=[],k=function(e){function t(e){var n;return d(this,t),(n=i(this,t,[e]))._data=e,n}return l(t,e),u(t,null,[{key:"gestionLikes",value:function(e){e.stopPropagation();var t=e.target.closest("#article-media-id"),n=t.querySelector("#figcaption-media-id"),i=t.querySelector("#number-likes-id"),a=e.target.firstElementChild;a.classList.contains("fa-regular")?(a.classList.remove("fa-regular"),a.classList.add("fa-solid"),a.setAttribute("aria-pressed","true"),p.textContent=Number(parseInt(p.textContent))+1,i.textContent=Number(parseInt(i.textContent))+1):a.classList.contains("fa-solid")&&(a.classList.remove("fa-solid"),a.classList.add("fa-regular"),a.setAttribute("aria-pressed","false"),p.textContent=Number(parseInt(p.textContent))-1,i.textContent=Number(parseInt(i.textContent))-1);var r=new function(e,t,n){this.media=e,this.likesMedia=Number(parseInt(t)),this._MediaHeart=n}(n.textContent,i.textContent,a.classList.value);if(C.length){var l=C.find((function(e){return e.media===n.textContent}));l?l&&C.forEach((function(e){if(e.media===l.media&&a.classList.contains("fa-solid")){var t=C.indexOf(l);C.splice(t,1),r._MediaHeart="fa-solid fa-heart",C.push(r)}else if(e.media===l.media&&a.classList.contains("fa-regular")){var n=C.indexOf(l);C.splice(n,1),r._MediaHeart="fa-regular fa-heart",C.push(r)}})):C.push(r)}else C.push(r)}}])}(g)})();